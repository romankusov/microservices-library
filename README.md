# Учебное Spring Boot приложение на основе микросервсиной архитектуры
# Описание
Приложение эмулирует работу библиотеки и представлена тремя микросервисами, реализующими бизнес-логику, и двумя микросервсиами, обеспечивающими взаимодействие между сервисами и взаимодействие между сервисами и фронтом. Схема приложения приведена на рисунке ниже 
![схема приложения](https://github.com/romankusov/microservices-library/blob/master/Схема%20приложения.jpg)
# "Обеспечивающие" сервисы
## Сервис eureka-server
Сервис по обнаружению и регистрации микросервисов (discovery server), работает на порту 8761.
## Сервис api-gateway
Сервис осущетсвляет маршрутизацию внутри приложения, тем самым предоставляя для фронта единую "точку входа". Реализован на Spring Cloud API Gateway MVC, раотает на порту 8081. Остальным микросервисам порт назначается автоматически
# Сервисы бизнес- логики
## User service
Сервис, отвечающий за работу с посетителями библиотеки. Команды API:
### /api/users GET
Метод без параметров. Возвращает список всех посетителей библиотеки
### /api/users {id} GET
Параметр id. Метод возвращает конкретного пользователя по id либо возвращает ошибку в случае отсутствия пользователя с указанным id
### /api/users POST
Метод создает нового пользователя, в теле запроса передается имя пользователя
### /api/users PUT 
Метод вносит изменения в имя пользователя, в теле запроса передается новое имя пользователя
### /api/users {id} DELETE
Метод удаляет пользователя по id
### /api/users/taken/{id}/set POST
Специальный метод, недоступный с фронта, для организации межсервисного взаимодействия. В случае, если клиент берет новую книгу через order service, order service при помощи библиотеки feign устанавляивает устанавливает для клиента по его id флаг о том, что книга взята, и, значит, клиент не может взять другую книгу, пока не вернет предыдущую
### /api/users/taken/{id}/reset POST
Метод аналогичный предыдущему, но в отличии от него при возврате книги устанавливает флаг, сигнализирующий о том, что книга возвращена
### /api/users/taken/{id} GET
Также специальный метод для взаимодействия с order service по feign client. При помощи данного метода order service проверяет, есть ли невозвращенные книги у пользователя, и, следовательно, может ли он взять новую книгу
## Order service
## Storage service
